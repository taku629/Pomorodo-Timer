(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();const g=document.getElementById("status"),p=document.getElementById("timer"),f=document.getElementById("cat-image"),u=document.getElementById("start-btn"),S=document.getElementById("log-list"),m=document.getElementById("work-time"),y=document.getElementById("break-time");let n,i=null,l=!1;const b=()=>{const r=JSON.parse(localStorage.getItem("cat_tasks")||"[]"),o=new Date;o.setDate(o.getDate()-7);const c=r.filter(s=>new Date(s.date)>=o).reduce((s,h)=>s+(h.duration||0),0),d=Math.floor(c/60),e=c%60,t=`
    <div class="total-summary" style="background: #fff3e0; padding: 20px; border-radius: 15px; margin-bottom: 20px; border: 2px solid #ffb347;">
      <div style="font-size: 1rem; color: #e67e22; font-weight: bold; margin-bottom: 5px;">ğŸ¾ Weekly Study Time ğŸ¾</div>
      <div style="font-size: 2.5rem; font-weight: bold; color: #333;">${d}h ${e}m</div>
    </div>
  `,a=r.map(s=>`
    <div class="log-item"><span>${s.date.split("-").slice(1).join("/")} ${s.time}</span>: <strong>${s.task}</strong> (${s.duration} min)</div>
  `).join("");S.innerHTML=t+'<h3 style="text-align:left;">Recent Logs</h3>'+a},I=()=>{if(i&&clearInterval(i),i=null,l)l=!1,g.innerText="Back to work!",f.src="work_cat.jpg";else{const r=prompt("What did you work on?");if(r){const o=JSON.parse(localStorage.getItem("cat_tasks")||"[]");o.unshift({date:new Date().toISOString().split("T")[0],time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),task:r,duration:Number(m.value)}),localStorage.setItem("cat_tasks",JSON.stringify(o)),b()}l=!0,g.innerText="Break Time!",f.src="sleep_cat.jpg"}n=Number(l?y.value:m.value)*60,p.innerText=`${Math.floor(n/60).toString().padStart(2,"0")}:${(n%60).toString().padStart(2,"0")}`,u.innerText="Start!"};u.onclick=()=>{i?(clearInterval(i),i=null,u.innerText="Resume"):(n||(n=Number(l?y.value:m.value)*60),u.innerText="Pause",i=window.setInterval(()=>{if(n<=0)I();else{n--;const r=Math.floor(n/60),o=n%60;p.innerText=`${r.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}},1e3))};window.onload=b;
